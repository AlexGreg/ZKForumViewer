












<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" >
	<meta http-equiv="X-UA-Compatible" content="chrome=1">	
	<link rel="shortcut icon" type="image/ico" href="/resource/img/favicon.ico" >
	<link rel="bookmark" href="/resource/img/favicon.ico" >
	<link href="http://feeds.feedburner.com/zkoss?format=xml" rel="alternate" type="application/rss+xml" title="ZK RSS FEED" />
	<link rel="stylesheet" type="text/css" href='/forum/css/website/template.css.dsp;jsessionid=864ED272981F17ACF79204954B4F930E'	/>
	<link type="text/css" rel="stylesheet" href='/forum/less/index;jsessionid=864ED272981F17ACF79204954B4F930E?1343202462959' />
<title>Window doesn't receive all the events, they are not propagated if button has focus. | Forum | ZK </title>
<meta name="keywords" content="ajax zk forum" />
<meta name="description" content="Window doesn't receive all the events, they are not propagated if button has focus."/> 
<meta name="Robots" content="all"/>
<meta name="author" content="Gostev"/>
<meta name="classification" content="forum"/>
<meta name="generator" content="zk jsp"/>


<link rel="stylesheet" type="text/css" href="/forum/zkau/web/dd3ed978/_zkiju-breeze/zul/css/zk.wcs;jsessionid=864ED272981F17ACF79204954B4F930E"/>

<script type="text/javascript" src="/forum/zkau/web/dd3ed978/js/zk.wpd;jsessionid=864ED272981F17ACF79204954B4F930E" charset="UTF-8">
</script>
<script type="text/javascript" src="/forum/zkau/web/dd3ed978/js/zul.lang.wpd;jsessionid=864ED272981F17ACF79204954B4F930E" charset="UTF-8">
</script>
<!-- ZK 5.0.9 EE 2011102015 Evaluation Only -->

<script type="text/javascript" src='/forum/js/zorum.js.dsp;jsessionid=864ED272981F17ACF79204954B4F930E' charset="UTF-8">
</script>
<style>
	.gridRows iframe{
		border:none;
	}
	.fiddleiframe{
		display:none;
	}
	.commentBody iframe{
	   border:none;	
	}	
</style>
</head>
<body class="zk-forum">
	<div id="zk-container">
		<div id="index-header">
		<div id="index-header-inner">
		<h1 id="zk-logo">
		<em>
			<a href="/" rel="canonical" title="ZK Home" name="top"><img width="63" src="http://www.zkoss.org/resource/img/template/top_zk_logo.png"
				title="ZK - Open Source Ajax Java Framework" alt="ZK - Open Source Ajax Java Framework" class="open-source-ajax" >ZK - Open Source Ajax Java Framework</a>
		</em>
		</h1>		
		
<div id="main_menu">
	<ul class='menu new-style'>
		<li class='menuitem '>
			<div class="menuitem-right">
				<a href="/product/" class="menulink">Products</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/product/zk" title="ZK">ZK</a>
	<div class="sep"></div></li>
<li><a href="/product/zkstudio" title="ZK Studio">ZK Studio</a>
	<div class="sep"></div></li>
<li><a href="/product/zkspring" title="ZK Spring">ZK Spring</a>
	<div class="sep"></div></li>
<li><a href="/product/zkspreadsheet" title="ZK Spreadsheet">ZK Spreadsheet</a>
	<div class="sep"></div></li>
<li><a href="/product/zkpivottable" title="ZK Pivottable">ZK Pivottable</a>
	<div class="sep"></div></li>
<li><a href="/product/zkcalendar" title="ZK Calendar">ZK Calendar</a>
	<div class="sep"></div></li>
<li><a href="/product/zkjsp" title="ZK JSP">ZK JSP</a>
	<div class="sep"></div></li>
<li class="bottom"><a href="http://www.zkoss.org/product/zats" title="ZTL">ZATS</a></li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a>
				</li>
			</ul>
		</li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/demo/" class="menulink">Demos</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/zkdemo/">ZK</a>
				<div class="sep"></div>
				</li>
				<li><a href="/product/zkstudio/demo">ZK Studio</a>
				<div class="sep"></div>
				</li>
				<li><a href="http://zssdemo.zkoss.org">ZK SpreadSheet</a>
				<div class="sep"></div>
				</li>
				<li><a href="http://www.zkoss.org/zkdemo/application/pivottable">ZK Pivottable</a>
				<div class="sep"></div>
				</li>
				<li><a href="http://zcal.zkoss.org">ZK Calendar</a>
				<div class="sep"></div>
				</li>
				<li><a href="/zkmail/">ZK Web Mail</a>
				<div class="sep"></div>
				</li>
				<li><a href="/zksandbox">ZK Sandbox</a>
				<div class="sep"></div>
				</li>
				<li class="bottom"><a href="/demo/external">Real World Apps</a>
				</li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/download/" class="menulink">Downloads</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/download/zk">ZK</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkstudio">ZK Studio</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkspring">ZK Spring</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkspreadsheet">ZK Spreadsheet</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkpivottable">ZK Pivottable</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkcalendar">ZK Calendar</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkjsp">ZK JSP</a>
	<div class="sep"></div>
</li>
<li class="bottom"><a href="http://www.zkoss.org/download/zats">ZATS</a>
</li>
<!--
		<li class="bottom"><a href="/download/ztl">ZTL</a>
				</li>
				 -->
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/whyzk/" class="menulink">Why ZK</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/whyzk/features">Features</a>
	<div class="sep"></div>
</li>
<li><a href="/whyzk/TopReasons">Top Reasons</a>
	<div class="sep"></div>
</li>
<li><a href="/whyzk/WhosUsing">Who's Using</a>
	<div class="sep"></div>
</li>
<li><a href="/whyzk/casestudies">Case Studies</a>
	<div class="sep"></div>
</li>
<li class="bottom"><a href="/whyzk/Testimonials">Testimonials</a>
</li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem menuitem-sel'>
			<div class="menuitem-right">
				<a href="/community/" class="menulink">Community</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/forum/">Forum</a>
  <div class="sep"></div>
</li>
<li><a href="http://blog.zkoss.org">Blog</a>
  <div class="sep"></div>
</li>
<li><a href="http://books.zkoss.org/wiki/Hall_of_Fame">Contributors</a>
  <div class="sep"></div>
</li>
<li><a href="http://books.zkoss.org/wiki/Blogosphere">Blogosphere</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation#Small_Talks">Small Talks</a>
  <div class="sep"></div>
</li>
<li><a href='http://tracker.zkoss.org/secure/IssueNavigator.jspa?mode=hide&amp;requestId=10002'>Request Features</a>
  <div class="sep"></div>
</li>
<li class="bottom"><a href='http://tracker.zkoss.org/secure/IssueNavigator.jspa?mode=hide&amp;requestId=10001'>Report Bugs</a>
</li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/documentation" class="menulink">Documentation</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/documentation">ZK</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkstudio">ZK Studio</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkspring">ZK Spring</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkspreadsheet">ZK Spreadsheet</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkpivottable">ZK Pivottable</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkcalendar">ZK Calendar</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkjsp">ZK JSP</a>
  <div class="sep"></div>
</li>
<li class="bottom"><a href="http://www.zkoss.org/documentation/zats">ZATS</a>
</li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/support/" class="menulink">Support</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/support/options">Support Options</a>
	<div class="sep"></div></li>
<li><a href="/partner/">Partners</a>
	<div class="sep"></div></li>
<li class="bottom"><a href="/support/about">About Us</a></li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
	</ul>

</div>
		





<div id="reglang-box">
	<script type="text/javascript">zkpb('oF8Q_','z_me1','/forum;jsessionid=864ED272981F17ACF79204954B4F930E','/forum/zkau;jsessionid=864ED272981F17ACF79204954B4F930E','/WEB-INF/website/template_header-search.jsp');zkpe();</script>
<div id="oF8Q0" class="z-temp"><script src='/forum/zkau/web/dd3ed978/js/zul.breeze.wpd;jsessionid=864ED272981F17ACF79204954B4F930E'></script></div><script type="text/javascript">zk.pi=1;zkx(
['zul.wgt.Toolbarbutton','oF8Q0',{sclass:'item',label:'Login',href:'/forum/login.zul;jsessionid=864ED272981F17ACF79204954B4F930E?path=http://www.zkoss.org/forum/listComment/20044-Window-doesn-t-receive-all-the-events-they-are-not-propagated-if-button-has-focus'},[]]);
</script>
<div id="oF8Q1" class="z-temp"></div><script type="text/javascript">zkx(
['zul.wgt.Toolbarbutton','oF8Q1',{sclass:'item',label:'Register',href:'/forum/signup.zul;jsessionid=864ED272981F17ACF79204954B4F930E'},[]]);
</script>

</div>
<div id="search-box">
	<div id="searchBodyg">
		<form id="cse-search-box" action="/doc/searchresult.jsp" method="get">
			<div>
				<input type="hidden" name="cx" value="008321236477929467003:63kdpeqkkvw">
				
				<input type="hidden" name="cof" value="FORID:11">  
				<input class="searchinp" type="text" id="googleInput" value="" size="25" name="q" /> 
				<input id="sa" class="searchsubmit" type="submit" value="" name="sa" />
			</div>
		</form>
	</div>

	<div id="searchBodySql" style="display: none;">
		<form id="sql-search-box" action="/forum/searchSqlResult.jsp;jsessionid=864ED272981F17ACF79204954B4F930E" method="get">
			<div>
				<input type="hidden" value="1" name="PageIndex" /> 
				<input class="searchinp" type="text" id="sqlInput" value="" size="25" name="q" style=""/> 
				<input id="sa" class="searchsubmit" type="submit" value="" name="sa" />
			</div>
		</form>
	</div>
	<form id="searchchoice">
		<input class="rad" type="radio" CHECKED value="google" name="search">Google 
		<input class="rad" type="radio" value="SQL" name="search" />Database &nbsp;| 
		<a href="/forum/advanceSearch.zul;jsessionid=864ED272981F17ACF79204954B4F930E">Advanced Search</a>
	</form>
</div>

	</div>
</div>
		<div id="zk-template">
			<div id="template-inner">
<div id="container-top"></div>
<div id="internal"></div>
<div id="listComment">
	<div id="main">
		<div id="content-top"></div>
		<div id="content">
			<table border="0" width="98%" height="50px">
				<tr>
					<td>
			           <div id="category-navigation">
							<ul>
								<li class="category-home"><a href="/forum/;jsessionid=864ED272981F17ACF79204954B4F930E"><img src="/forum/images/home.png;jsessionid=864ED272981F17ACF79204954B4F930E" alt="Home"/></a></li>
								
									
									
										<li class="category"><a href="/forum/listDiscussion/14;jsessionid=864ED272981F17ACF79204954B4F930E">Help</a></li>
									
									
										<li>|</li>
									
								
									
									
										<li class="category"><a href="/forum/listDiscussion/18;jsessionid=864ED272981F17ACF79204954B4F930E">ZK Studio</a></li>
									
									
										<li>|</li>
									
								
									
										<li class="category category-selected"><a href="/forum/listDiscussion/13;jsessionid=864ED272981F17ACF79204954B4F930E">General</a>
										</li>
									
									
									
										<li>|</li>
									
								
									
									
										<li class="category"><a href="/forum/listDiscussion/15;jsessionid=864ED272981F17ACF79204954B4F930E">Announcements</a></li>
									
									
										<li>|</li>
									
								
									
									
										<li class="category"><a href="/forum/listDiscussion/17;jsessionid=864ED272981F17ACF79204954B4F930E">Installation</a></li>
									
									
								
							</ul>
						</div>
			        </td>
				</tr>
			</table>
			<h2 id="discussionTitle">Window doesn't receive all the events, they are not propagated if button has focus.</h2>
			<!-- *************************** List Comments *************************** -->
			<script type="text/javascript">zkpb('oF8Q4','z_me1','/forum;jsessionid=864ED272981F17ACF79204954B4F930E','/forum/zkau;jsessionid=864ED272981F17ACF79204954B4F930E','/WEB-INF/website/template_header-search.jsp');zkpe();</script>
<div id="oF8Q2" class="z-temp"><div class="author"><img class='author-image' title='Gostev' src='/forum/mediaService?userId=56185&extName=null' /><span class="author-name">Gostev</span></div><div><span class="comment-date">10 Jul 2012 11:28:00 GMT</span><div class="comment-cotent"><span class="comment-content">10 Jul 2012 11:28:00 GMT</span><p  style="margin:2px 2px;">Hello,</p><p>I'm trying to implement ESC and ENTER keystroke events to window (modal) after last corrections everything is working but when I'm click on the button to move element from one list to another (inside my window), I lost response from keystroke events. <br/>What can be the right solution, to have events working whatever what I'm doing inside window?</p><p>Here is my code:<div style="class=code" class="code"><pre>&lt;?xml version="1.0" encoding="UTF&#45;8"?&gt;
&lt;?page title="Edit Groups For Branch Permission" contentType="text/html; charset=UTF&#45;8"?&gt;
&lt;?variable&#45;resolver class="org.zkoss.zkplus.spring.DelegatingVariableResolver"?&gt;
&lt;!&#45;&#45; works with ZK 6 and later only &#45;&#45;&gt;
&lt;zk xmlns="http://www.zkoss.org/2005/zul" xmlns:xsi="http://www.w3.org/2001/XMLSchema&#45;instance"
    xsi:schemaLocation="http://www.zkoss.org/2005/zul http://www.zkoss.org/2005/zul/zul.xsd"&gt;
    &lt;window title="Change Groups for Branch Permission" closable="true" border="normal" mode="modal" width="70%" height="60%"
            onClose="@command('cancel')"
            onCancel="@command('cancel')"
            forward="onOK=savePermissionsButton.onClick"
            apply="org.zkoss.bind.BindComposer"
            viewModel="@id('editGroupsForBranchPermissionVm') @init(editGroupsForBranchPermissionVm)"&gt;
        &lt;vbox hflex="1" vflex="1"&gt;
            &lt;hbox hflex="1" vflex="1"&gt;
                &lt;panel title="Available" border="normal" vflex="1" hflex="1"&gt;
                    &lt;panelchildren&gt;
                        &lt;listbox model="@bind(editGroupsForBranchPermissionVm.avail)" onSelect="@command('listSelected')"
                                 multiple="true" checkmark="true" vflex="true" onCancel="@command('cancel')" forward="onOK=savePermissionsButton.onClick"&gt;
                            &lt;listhead&gt;
                                &lt;listheader label="Group" sclass="boldstyle" onCancel="@command('cancel')" forward="onOK=savePermissionsButton.onClick"/&gt;
                            &lt;/listhead&gt;
                            &lt;template name="model" var="group"&gt;
                                &lt;listitem label="@load(group.name)"/&gt;
                            &lt;/template&gt;
                        &lt;/listbox&gt;
                    &lt;/panelchildren&gt;
                &lt;/panel&gt;
                &lt;vbox style="padding&#45;top: 100px" sclass="manage&#45;groups&#45;dialog&#45;vertical&#45;buttons" width="40px" align="center"&gt;
                    &lt;image onClick="@command('add')" disabled="@load(empty editGroupsForBranchPermissionVm.availSelected)"
                           src="/resources/img/rightarrow.png"/&gt;
                    &lt;image onClick="@command('addAll')" disabled="@load(empty editGroupsForBranchPermissionVm.avail)"
                           src="/resources/img/rightrightarrow.png"/&gt;
                    &lt;image onClick="@command('remove')" disabled="@load(empty editGroupsForBranchPermissionVm.existSelected)"
                           src="/resources/img/leftarrow.png"/&gt;
                    &lt;image onClick="@command('removeAll')" disabled="@load(empty editGroupsForBranchPermissionVm.exist)"
                           src="/resources/img/leftleftarrow.png"/&gt;
                &lt;/vbox&gt;
                &lt;panel title="Already added" border="normal" vflex="1" hflex="1"&gt;
                    &lt;panelchildren&gt;
                        &lt;listbox model="@bind(editGroupsForBranchPermissionVm.exist)" onSelect="@command('listSelected')"
                                 multiple="true" checkmark="true" vflex="true" onCancel="@command('cancel')" forward="onOK=savePermissionsButton.onClick"&gt;
                            &lt;listhead&gt;
                                &lt;listheader label="Group" sclass="boldstyle" onCancel="@command('cancel')" forward="onOK=savePermissionsButton.onClick"/&gt;
                            &lt;/listhead&gt;
                            &lt;template name="model" var="group"&gt;
                                &lt;listitem label="@load(group.name)"/&gt;
                            &lt;/template&gt;
                        &lt;/listbox&gt;
                    &lt;/panelchildren&gt;
                &lt;/panel&gt;
            &lt;/hbox&gt;
            &lt;hbox align="center" pack="center" height="30px"&gt;
                &lt;button id="savePermissionsButton" label="$&#123;labels.window.save&#125;" onClick="@command('save')" sclass="manage.groups.saveButton"/&gt;
                &lt;button id="cancelPermissionsButton" label="$&#123;labels.window.cancel&#125;" onClick="@command('cancel')"/&gt;
            &lt;/hbox&gt;
        &lt;/vbox&gt;
    &lt;/window&gt;
&lt;/zk&gt;</pre></div></p></div></div></div><script type="text/javascript">zkx(
['zul.wnd.Window','oF8Q2',{$$onSize:false,$$onMaximize:false,$$onOpen:false,$$onMinimize:false,$$onZIndex:false,$onClose:true,$$onMove:false,width:'100%'},[
['zk.Native','oF8Qd',{prolog:'<div class="c-middlebar">\r\n\t\t\t\t<table border="0" width="100%">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td align="left" style="width: 1%">\r\n\t\t\t\t\t\t\t<div class="c-newthread" align="right">'},[]],
['zul.wgt.Button','oF8Q5',{sclass:'forumButton',label:'Reply',href:'/forum/login.zul;jsessionid=864ED272981F17ACF79204954B4F930E?path=http://www.zkoss.org/forum/listComment/20044-Window-doesn-t-receive-all-the-events-they-are-not-propagated-if-button-has-focus'},[]],
['zk.Native','oF8Qe',{prolog:'</div>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td align="right" style="width: 99%">\r\n\t\t\t\t\t        <div class="c-pages">\r\n\t\t\t\t\t            \r\n\t\t\t\t\t        </div>\r\n\t\t\t\t\t\t</td>\t\t\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t\t</div>'},[]],
['zul.grid.Grid','oF8Q6',{id:'commentGrid',$$onRender:true,$onTopPad:false,$$onDataLoading:true,$onDataLoading:true,$$onInnerWidth:false,$$onPageSize:true,$$onScrollPos:false,style:'margin-top: 5px; margin-bottom: 5px;',model:true,_topPad:0,emptyMessage:null,_totalSize:1,_offset:0},[
['zul.grid.Columns','oF8Q7',{$$onColSize:false},[
['zul.grid.Column','oF8Q8',{$onSort:true,$onGroup:true,width:'140px'},[]],
['zul.grid.Column','oF8Q9',{$onSort:true,$onGroup:true},[]]]],
['zul.grid.Rows','oF8Qa',{sclass:'comment-rows',_offset:0,visibleItemCount:1},[
['zul.grid.Row','oF8Qn',{_loaded:true,_index:0},[
['zul.wnd.Window','oF8Qp',{$onClose:true,width:'140px',sclass:'commentAuthorContent',prolog:'\n\n'},[
['zul.box.Box','oF8Qq',{prolog:'\n\t'},[
['zul.box.Vlayout','oF8Qr',{},[
['zul.box.Hlayout','oF8Qs',{},[
['zul.wgt.Toolbarbutton','oF8Qt',{id:'authorBtn',$onClick:true,sclass:'author-popup-btn',label:'Gostev'},[]]]],
['zul.wgt.Label','oF8Qv',{id:'roleDescription',style:'color: #EA4317;'},[]]]],
['zul.wgt.Div','oF8Qx',{},[]],
['zul.wgt.Div','oF8Q_0',{},[
['zul.wgt.Label','oF8Q00',{id:'post',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Posts:'},[]],
['zul.wgt.Label','oF8Q10',{id:'postValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'5'},[]]]],
['zul.wgt.Div','oF8Q20',{},[
['zul.wgt.Label','oF8Q30',{id:'joined',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Joined:'},[]],
['zul.wgt.Label','oF8Q40',{id:'joinedValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'Jun 07, 2012'},[]]]],
['zul.wgt.Div','oF8Q50',{},[]],
['zul.wgt.Div','oF8Q70',{},[]]],'vertical']]],
['zul.wnd.Window','oF8Q90',{$onClose:true,sclass:'commentContent',prolog:'\n\t'},[
['zul.wgt.Div','oF8Qa0',{id:'mainVbox',width:'100%',prolog:'\n\t\t'},[
['zul.box.Vlayout','oF8Qb0',{sclass:'comment-meta',prolog:'\n\t\t\t'},[
['zul.wgt.Label','oF8Qc0',{id:'dateCreated',sclass:'comment-date',value:'Jul 10, 2012'},[]],
['zul.wgt.Div','oF8Qd0',{sclass:'comment-ctrl'},[]]]],
['zul.wgt.Html','oF8Qg0',{id:'body',sclass:'commentBody',prolog:'\n\t\t\t',content:'<p  style="margin:2px 2px;">Hello,</p><p>I\'m trying to implement ESC and ENTER keystroke events to window (modal) after last corrections everything is working but when I\'m click on the button to move element from one list to another (inside my window), I lost response from keystroke events. <br/>What can be the right solution, to have events working whatever what I\'m doing inside window?</p><p>Here is my code:<div style="class=code" class="code"><pre>&lt;?xml version="1.0" encoding="UTF&#45;8"?&gt;\n&lt;?page title="Edit Groups For Branch Permission" contentType="text/html; charset=UTF&#45;8"?&gt;\n&lt;?variable&#45;resolver class="org.zkoss.zkplus.spring.DelegatingVariableResolver"?&gt;\n&lt;!&#45;&#45; works with ZK 6 and later only &#45;&#45;&gt;\n&lt;zk xmlns="http://www.zkoss.org/2005/zul" xmlns:xsi="http://www.w3.org/2001/XMLSchema&#45;instance"\n    xsi:schemaLocation="http://www.zkoss.org/2005/zul http://www.zkoss.org/2005/zul/zul.xsd"&gt;\n    &lt;window title="Change Groups for Branch Permission" closable="true" border="normal" mode="modal" width="70%" height="60%"\n            onClose="@command(\'cancel\')"\n            onCancel="@command(\'cancel\')"\n            forward="onOK=savePermissionsButton.onClick"\n            apply="org.zkoss.bind.BindComposer"\n            viewModel="@id(\'editGroupsForBranchPermissionVm\') @init(editGroupsForBranchPermissionVm)"&gt;\n        &lt;vbox hflex="1" vflex="1"&gt;\n            &lt;hbox hflex="1" vflex="1"&gt;\n                &lt;panel title="Available" border="normal" vflex="1" hflex="1"&gt;\n                    &lt;panelchildren&gt;\n                        &lt;listbox model="@bind(editGroupsForBranchPermissionVm.avail)" onSelect="@command(\'listSelected\')"\n                                 multiple="true" checkmark="true" vflex="true" onCancel="@command(\'cancel\')" forward="onOK=savePermissionsButton.onClick"&gt;\n                            &lt;listhead&gt;\n                                &lt;listheader label="Group" sclass="boldstyle" onCancel="@command(\'cancel\')" forward="onOK=savePermissionsButton.onClick"/&gt;\n                            &lt;/listhead&gt;\n                            &lt;template name="model" var="group"&gt;\n                                &lt;listitem label="@load(group.name)"/&gt;\n                            &lt;/template&gt;\n                        &lt;/listbox&gt;\n                    &lt;/panelchildren&gt;\n                &lt;/panel&gt;\n                &lt;vbox style="padding&#45;top: 100px" sclass="manage&#45;groups&#45;dialog&#45;vertical&#45;buttons" width="40px" align="center"&gt;\n                    &lt;image onClick="@command(\'add\')" disabled="@load(empty editGroupsForBranchPermissionVm.availSelected)"\n                           src="/resources/img/rightarrow.png"/&gt;\n                    &lt;image onClick="@command(\'addAll\')" disabled="@load(empty editGroupsForBranchPermissionVm.avail)"\n                           src="/resources/img/rightrightarrow.png"/&gt;\n                    &lt;image onClick="@command(\'remove\')" disabled="@load(empty editGroupsForBranchPermissionVm.existSelected)"\n                           src="/resources/img/leftarrow.png"/&gt;\n                    &lt;image onClick="@command(\'removeAll\')" disabled="@load(empty editGroupsForBranchPermissionVm.exist)"\n                           src="/resources/img/leftleftarrow.png"/&gt;\n                &lt;/vbox&gt;\n                &lt;panel title="Already added" border="normal" vflex="1" hflex="1"&gt;\n                    &lt;panelchildren&gt;\n                        &lt;listbox model="@bind(editGroupsForBranchPermissionVm.exist)" onSelect="@command(\'listSelected\')"\n                                 multiple="true" checkmark="true" vflex="true" onCancel="@command(\'cancel\')" forward="onOK=savePermissionsButton.onClick"&gt;\n                            &lt;listhead&gt;\n                                &lt;listheader label="Group" sclass="boldstyle" onCancel="@command(\'cancel\')" forward="onOK=savePermissionsButton.onClick"/&gt;\n                            &lt;/listhead&gt;\n                            &lt;template name="model" var="group"&gt;\n                                &lt;listitem label="@load(group.name)"/&gt;\n                            &lt;/template&gt;\n                        &lt;/listbox&gt;\n                    &lt;/panelchildren&gt;\n                &lt;/panel&gt;\n            &lt;/hbox&gt;\n            &lt;hbox align="center" pack="center" height="30px"&gt;\n                &lt;button id="savePermissionsButton" label="$&#123;labels.window.save&#125;" onClick="@command(\'save\')" sclass="manage.groups.saveButton"/&gt;\n                &lt;button id="cancelPermissionsButton" label="$&#123;labels.window.cancel&#125;" onClick="@command(\'cancel\')"/&gt;\n            &lt;/hbox&gt;\n        &lt;/vbox&gt;\n    &lt;/window&gt;\n&lt;/zk&gt;</pre></div></p>'},[]],
['zul.wgt.Separator','oF8Qh0',{prolog:'\n\t\t\t',orient:'horizontal'},[]],
['zul.wgt.Div','oF8Qi0',{id:'signatureDiv',visible:false,sclass:'news-line',prolog:'\n\t\t\t'},[]],
['zul.wgt.Label','oF8Qj0',{id:'signature',visible:false,sclass:'signature',prolog:'\n\t\t\t'},[]]]]]]]]]]]],
['zul.wgt.Popup','oF8Qb',{id:'authorPopup',visible:false,$$onOpen:false,sclass:'user-popup'},[]],
['zul.wgt.Label','oF8Qc',{id:'anchor',visible:false},[]]]]);
</script>
<div id="oF8Qf" class="z-temp"></div><script type="text/javascript">zkx(
['zul.wgt.Label','oF8Qf',{},[]]);
</script>
<div class="c-middlebar">
				<table border="0" width="100%">
					<tr>
						<td align="left" style="width: 1%">
							<div class="c-newthread" align="right"><div id="oF8Qg" class="z-temp"></div><script type="text/javascript">zkx(
['zul.wgt.Button','oF8Qg',{sclass:'forumButton',label:'Reply',href:'/forum/login.zul;jsessionid=864ED272981F17ACF79204954B4F930E?path=http://www.zkoss.org/forum/listComment/20044-Window-doesn-t-receive-all-the-events-they-are-not-propagated-if-button-has-focus'},[]]);
</script>
</div>
						</td>
						<td align="right" style="width: 99%">
					        <div class="c-pages">
					            
					        </div>
						</td>		
					</tr>
				</table>
			</div>
			
			<br /><div id="oF8Qh" class="z-temp"></div><script type="text/javascript">zkx(
['zul.wgt.Div','oF8Qh',{id:'comment-reply'},[
['zk.Native','oF8Qk',{prolog:'<a name="reply"></a>'},[]],
['zk.Macro','oF8Qi',{},[]],
['zul.wgt.Label','oF8Qj',{},[]]]]);
</script>

		<div id="content-bottom"></div>
	</div>	
	</div>
</div>
	
<script type="text/javascript" 	src="/forum/js/commentCodeHandle.js;jsessionid=864ED272981F17ACF79204954B4F930E" ></script>



</div> </div>
<!-- Google  -->
<script type="text/javascript">
 var z_n = "null",
	z_i = "220.135.202.140" ;
 var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
 document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://www.zkoss.org/resource/js/page/gaz.js"></script>
<script type="text/javascript" src="/forum/js/template.js;jsessionid=864ED272981F17ACF79204954B4F930E"></script>
<!-- Google  -->
<div id="footer-2">
	<div id="footer-2-inner">
		<img src="http://sourceforge.net/sflogo.php?group_id=152762&amp;type=1" width="0" height="0" alt="SourceForge" style="float:right;">
		
		<div id="footer-txt">
		<div class="contacts"><a href="http://www.zkoss.org/support/about/contact" title="Contact Us">Contact Us</a></div>
		&#169; 2012 Potix Corporation. All rights reserved.<br />
		ZK is a trademark of Potix Corporation.</div>
		<div id="partners">
			<div class="txt">Partners :</div>
			<div class="allpartners"><a href="/partner/" title="ZK Partners">Partners</a></div>
		</div>
	</div>
</div>
</div>
</body>
</html>
</body>
</html>
