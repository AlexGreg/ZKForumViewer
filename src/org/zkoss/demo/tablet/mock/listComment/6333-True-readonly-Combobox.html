












<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" >
	<meta http-equiv="X-UA-Compatible" content="chrome=1">	
	<link rel="shortcut icon" type="image/ico" href="/resource/img/favicon.ico" >
	<link rel="bookmark" href="/resource/img/favicon.ico" >
	<link href="http://feeds.feedburner.com/zkoss?format=xml" rel="alternate" type="application/rss+xml" title="ZK RSS FEED" />
	<link rel="stylesheet" type="text/css" href='/forum/css/website/template.css.dsp;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE'	/>
	<link type="text/css" rel="stylesheet" href='/forum/less/index;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE?1343202459390' />
<title>True readonly Combobox | Forum | ZK </title>
<meta name="keywords" content="ajax zk forum" />
<meta name="description" content="True readonly Combobox"/> 
<meta name="Robots" content="all"/>
<meta name="author" content="aros54"/>
<meta name="classification" content="forum"/>
<meta name="generator" content="zk jsp"/>


<link rel="stylesheet" type="text/css" href="/forum/zkau/web/dd3ed978/_zkiju-breeze/zul/css/zk.wcs;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE"/>

<script type="text/javascript" src="/forum/zkau/web/dd3ed978/js/zk.wpd;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE" charset="UTF-8">
</script>
<script type="text/javascript" src="/forum/zkau/web/dd3ed978/js/zul.lang.wpd;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE" charset="UTF-8">
</script>
<!-- ZK 5.0.9 EE 2011102015 Evaluation Only -->

<script type="text/javascript" src='/forum/js/zorum.js.dsp;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE' charset="UTF-8">
</script>
<style>
	.gridRows iframe{
		border:none;
	}
	.fiddleiframe{
		display:none;
	}
	.commentBody iframe{
	   border:none;	
	}	
</style>
</head>
<body class="zk-forum">
	<div id="zk-container">
		<div id="index-header">
		<div id="index-header-inner">
		<h1 id="zk-logo">
		<em>
			<a href="/" rel="canonical" title="ZK Home" name="top"><img width="63" src="http://www.zkoss.org/resource/img/template/top_zk_logo.png"
				title="ZK - Open Source Ajax Java Framework" alt="ZK - Open Source Ajax Java Framework" class="open-source-ajax" >ZK - Open Source Ajax Java Framework</a>
		</em>
		</h1>		
		
<div id="main_menu">
	<ul class='menu new-style'>
		<li class='menuitem '>
			<div class="menuitem-right">
				<a href="/product/" class="menulink">Products</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/product/zk" title="ZK">ZK</a>
	<div class="sep"></div></li>
<li><a href="/product/zkstudio" title="ZK Studio">ZK Studio</a>
	<div class="sep"></div></li>
<li><a href="/product/zkspring" title="ZK Spring">ZK Spring</a>
	<div class="sep"></div></li>
<li><a href="/product/zkspreadsheet" title="ZK Spreadsheet">ZK Spreadsheet</a>
	<div class="sep"></div></li>
<li><a href="/product/zkpivottable" title="ZK Pivottable">ZK Pivottable</a>
	<div class="sep"></div></li>
<li><a href="/product/zkcalendar" title="ZK Calendar">ZK Calendar</a>
	<div class="sep"></div></li>
<li><a href="/product/zkjsp" title="ZK JSP">ZK JSP</a>
	<div class="sep"></div></li>
<li class="bottom"><a href="http://www.zkoss.org/product/zats" title="ZTL">ZATS</a></li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a>
				</li>
			</ul>
		</li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/demo/" class="menulink">Demos</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/zkdemo/">ZK</a>
				<div class="sep"></div>
				</li>
				<li><a href="/product/zkstudio/demo">ZK Studio</a>
				<div class="sep"></div>
				</li>
				<li><a href="http://zssdemo.zkoss.org">ZK SpreadSheet</a>
				<div class="sep"></div>
				</li>
				<li><a href="http://www.zkoss.org/zkdemo/application/pivottable">ZK Pivottable</a>
				<div class="sep"></div>
				</li>
				<li><a href="http://zcal.zkoss.org">ZK Calendar</a>
				<div class="sep"></div>
				</li>
				<li><a href="/zkmail/">ZK Web Mail</a>
				<div class="sep"></div>
				</li>
				<li><a href="/zksandbox">ZK Sandbox</a>
				<div class="sep"></div>
				</li>
				<li class="bottom"><a href="/demo/external">Real World Apps</a>
				</li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/download/" class="menulink">Downloads</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/download/zk">ZK</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkstudio">ZK Studio</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkspring">ZK Spring</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkspreadsheet">ZK Spreadsheet</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkpivottable">ZK Pivottable</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkcalendar">ZK Calendar</a>
	<div class="sep"></div>
</li>
<li><a href="/download/zkjsp">ZK JSP</a>
	<div class="sep"></div>
</li>
<li class="bottom"><a href="http://www.zkoss.org/download/zats">ZATS</a>
</li>
<!--
		<li class="bottom"><a href="/download/ztl">ZTL</a>
				</li>
				 -->
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/whyzk/" class="menulink">Why ZK</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/whyzk/features">Features</a>
	<div class="sep"></div>
</li>
<li><a href="/whyzk/TopReasons">Top Reasons</a>
	<div class="sep"></div>
</li>
<li><a href="/whyzk/WhosUsing">Who's Using</a>
	<div class="sep"></div>
</li>
<li><a href="/whyzk/casestudies">Case Studies</a>
	<div class="sep"></div>
</li>
<li class="bottom"><a href="/whyzk/Testimonials">Testimonials</a>
</li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem menuitem-sel'>
			<div class="menuitem-right">
				<a href="/community/" class="menulink">Community</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/forum/">Forum</a>
  <div class="sep"></div>
</li>
<li><a href="http://blog.zkoss.org">Blog</a>
  <div class="sep"></div>
</li>
<li><a href="http://books.zkoss.org/wiki/Hall_of_Fame">Contributors</a>
  <div class="sep"></div>
</li>
<li><a href="http://books.zkoss.org/wiki/Blogosphere">Blogosphere</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation#Small_Talks">Small Talks</a>
  <div class="sep"></div>
</li>
<li><a href='http://tracker.zkoss.org/secure/IssueNavigator.jspa?mode=hide&amp;requestId=10002'>Request Features</a>
  <div class="sep"></div>
</li>
<li class="bottom"><a href='http://tracker.zkoss.org/secure/IssueNavigator.jspa?mode=hide&amp;requestId=10001'>Report Bugs</a>
</li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/documentation" class="menulink">Documentation</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/documentation">ZK</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkstudio">ZK Studio</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkspring">ZK Spring</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkspreadsheet">ZK Spreadsheet</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkpivottable">ZK Pivottable</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkcalendar">ZK Calendar</a>
  <div class="sep"></div>
</li>
<li><a href="/documentation/zkjsp">ZK JSP</a>
  <div class="sep"></div>
</li>
<li class="bottom"><a href="http://www.zkoss.org/documentation/zats">ZATS</a>
</li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
		<li class='menuitem'>
			<div class="menuitem-right">
				<a href="/support/" class="menulink">Support</a>
			</div>
			<ul>
				<li class="round-top"></li>
				<li class="top"><a href="/support/options">Support Options</a>
	<div class="sep"></div></li>
<li><a href="/partner/">Partners</a>
	<div class="sep"></div></li>
<li class="bottom"><a href="/support/about">About Us</a></li>
				<li class="round-bottom"></li>
				<li class="touch-close"><a title="Close Menu" href="#"></a></li>
			</ul></li>
	</ul>

</div>
		





<div id="reglang-box">
	<script type="text/javascript">zkpb('d1dV_','z_fo90','/forum;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE','/forum/zkau;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE','/WEB-INF/website/template_header-search.jsp');zkpe();</script>
<div id="d1dV0" class="z-temp"><script src='/forum/zkau/web/dd3ed978/js/zul.breeze.wpd;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE'></script></div><script type="text/javascript">zk.pi=1;zkx(
['zul.wgt.Toolbarbutton','d1dV0',{sclass:'item',label:'Login',href:'/forum/login.zul;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE?path=http://www.zkoss.org/forum/listComment/6333-True-readonly-Combobox'},[]]);
</script>
<div id="d1dV1" class="z-temp"></div><script type="text/javascript">zkx(
['zul.wgt.Toolbarbutton','d1dV1',{sclass:'item',label:'Register',href:'/forum/signup.zul;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE'},[]]);
</script>

</div>
<div id="search-box">
	<div id="searchBodyg">
		<form id="cse-search-box" action="/doc/searchresult.jsp" method="get">
			<div>
				<input type="hidden" name="cx" value="008321236477929467003:63kdpeqkkvw">
				
				<input type="hidden" name="cof" value="FORID:11">  
				<input class="searchinp" type="text" id="googleInput" value="" size="25" name="q" /> 
				<input id="sa" class="searchsubmit" type="submit" value="" name="sa" />
			</div>
		</form>
	</div>

	<div id="searchBodySql" style="display: none;">
		<form id="sql-search-box" action="/forum/searchSqlResult.jsp;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE" method="get">
			<div>
				<input type="hidden" value="1" name="PageIndex" /> 
				<input class="searchinp" type="text" id="sqlInput" value="" size="25" name="q" style=""/> 
				<input id="sa" class="searchsubmit" type="submit" value="" name="sa" />
			</div>
		</form>
	</div>
	<form id="searchchoice">
		<input class="rad" type="radio" CHECKED value="google" name="search">Google 
		<input class="rad" type="radio" value="SQL" name="search" />Database &nbsp;| 
		<a href="/forum/advanceSearch.zul;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE">Advanced Search</a>
	</form>
</div>

	</div>
</div>
		<div id="zk-template">
			<div id="template-inner">
<div id="container-top"></div>
<div id="internal"></div>
<div id="listComment">
	<div id="main">
		<div id="content-top"></div>
		<div id="content">
			<table border="0" width="98%" height="50px">
				<tr>
					<td>
			           <div id="category-navigation">
							<ul>
								<li class="category-home"><a href="/forum/;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE"><img src="/forum/images/home.png;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE" alt="Home"/></a></li>
								
									
									
										<li class="category"><a href="/forum/listDiscussion/14;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE">Help</a></li>
									
									
										<li>|</li>
									
								
									
									
										<li class="category"><a href="/forum/listDiscussion/18;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE">ZK Studio</a></li>
									
									
										<li>|</li>
									
								
									
										<li class="category category-selected"><a href="/forum/listDiscussion/13;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE">General</a>
										</li>
									
									
									
										<li>|</li>
									
								
									
									
										<li class="category"><a href="/forum/listDiscussion/15;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE">Announcements</a></li>
									
									
										<li>|</li>
									
								
									
									
										<li class="category"><a href="/forum/listDiscussion/17;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE">Installation</a></li>
									
									
								
							</ul>
						</div>
			        </td>
				</tr>
			</table>
			<h2 id="discussionTitle">True readonly Combobox</h2>
			<!-- *************************** List Comments *************************** -->
			<script type="text/javascript">zkpb('d1dV4','z_fo90','/forum;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE','/forum/zkau;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE','/WEB-INF/website/template_header-search.jsp');zkpe();</script>
<div id="d1dV2" class="z-temp"><div class="author"><img class='author-image' title='aros54' src='/forum/mediaService?userId=5060&extName=null' /><span class="author-name">aros54</span></div><div><span class="comment-date">27 Nov 2008 13:00:36 GMT</span><div class="comment-cotent"><span class="comment-content">27 Nov 2008 13:00:36 GMT</span><p  style="margin:2px 2px;">Hi all.
<br/>As the javadoc states, the value of a readonly Combobox can be changed by dropping down the list and selecting an item. 
<br/>This behaviour can be very confusing not only because a user can potentially change the value of the readonly fields showing screens with fake data, but also becasue many applications use the same window both to display data (with fields set to readonly) and to modify them.
<br/>Datebox has a similar behaviour when readonly: you can click on the calendar button and modify the displayed date. The solution in this case is very simple: hide the calendar button when readonly with the method setButtonVisible(false). With Combobox we have one more problem: even if the drop list button is hided, the list drops down by clicking on the field and the user can still select a different item.
<br/>The solution I found is to disable all the comboitems when the parent combobox is readonly. This can be done either defining a new component or "using" a class inherited from Combobox with some method override. I show here the code of the second solution.
<br/>
<br/>This is the java code for the component override:
<br/>
<br/>public class Test extends Combobox {
<br/>
<br/>    @Override
<br/>    public void onChildAdded(Component child) {
<br/>	super.onChildAdded(child);
<br/>		
<br/>        // When a Combobox is created the property readonly is evaluated
<br/>	// before children are added.
<br/>	// So we need to set the initial status of the child (disabled true/false)
<br/>	// when each child is added the first time
<br/>        if (child instanceof Comboitem) {	
<br/>        	((Comboitem)child).setDisabled(isReadonly());
<br/>        }
<br/>    }
<br/>
<br/>    @Override
<br/>    public void setReadonly(boolean readonly) {
<br/>	super.setReadonly(readonly);
<br/>		
<br/>        // as the children drop list is shown on clicking on the field area 
<br/>	// even if the button is not visible, we set the children status
<br/>        // (disabled if readonly) so that the user can't click on them
<br/>        for (Iterator iterator = getChildren().iterator(); iterator.hasNext();) {
<br/>		Component c = (Component) iterator.next();
<br/>		if (c instanceof Comboitem) {	
<br/>			((Comboitem)c).setDisabled(isReadonly());
<br/>		}
<br/>	}
<br/>    }
<br/>
<br/>}
<br/>
<br/>And a test window:
<br/>
<br/>&lt;zk&gt;
<br/>  &lt;window border="normal" title="Readonly Combobox test" width="320px" height="80px"&gt;
<br/>&lt;zscript&gt;&lt;![CDATA[
<br/>	boolean ro = false;
<br/>]]&gt;&lt;/zscript&gt;
<br/>	&lt;hbox&gt;
<br/>	  &lt;label id="label" value="NOT Readonly"/&gt;
<br/>	  &lt;combobox id="test" use="com.arcademy.test.Test"&gt;
<br/>		&lt;comboitem label="Simple and Rich"/&gt;
<br/>		&lt;comboitem label="Cool!"/&gt;
<br/>		&lt;comboitem label="Thumbs Up!"/&gt;
<br/>	  &lt;/combobox&gt;
<br/>	  &lt;button label="Toggle" onClick="toggle();"/&gt;
<br/>	&lt;/hbox&gt;
<br/>&lt;zscript&gt;&lt;![CDATA[
<br/>	void toggle() {
<br/>		ro=!ro; 
<br/>		label.value = ro ? "Readonly" : "NOT Readonly";
<br/>		test.setReadonly(ro);
<br/>		test.setButtonVisible(!ro);
<br/>	}
<br/>]]&gt;&lt;/zscript&gt;
<br/>  &lt;/window&gt;
<br/>&lt;/zk&gt;
<br/>
<br/>I hope this can help somebody. Any comment is appreciated.
<br/>Best regards
<br/>Adriano</p></div></div><div class="author"><img class='author-image' title='robertlee' src='/forum/mediaService?userId=1478&extName=null' /><span class="author-name">robertlee</span></div><div><span class="comment-date">28 Nov 2008 11:08:06 GMT</span><div class="comment-cotent"><span class="comment-content">28 Nov 2008 11:08:06 GMT</span><p  style="margin:2px 2px;">Thank you, Adriano!</p></div></div><div class="author"><img class='author-image' title='tomyeh' src='/forum/mediaService?userId=17&extName=jpeg' /><span class="author-name">tomyeh</span></div><div><span class="comment-date">4 Dec 2008 14:45:06 GMT</span><div class="comment-cotent"><span class="comment-content">4 Dec 2008 14:45:06 GMT</span><p  style="margin:2px 2px;">How about posting it <a target="external" href="http://en.wikibooks.org/wiki/ZK/How-Tos">How-tos</a>?</p></div></div><div class="author"><img class='author-image' title='Senthilchettyin' src='/forum/mediaService?userId=50199&extName=jpeg' /><span class="author-name">Senthilchettyin</span></div><div><span class="comment-date">19 Jul 2012 17:02:48 GMT</span><div class="comment-cotent"><span class="comment-content">19 Jul 2012 17:02:48 GMT</span><p  style="margin:2px 2px;">Great. It helps me too</p></div></div></div><script type="text/javascript">zkx(
['zul.wnd.Window','d1dV2',{$$onSize:false,$$onMaximize:false,$$onOpen:false,$$onMinimize:false,$$onZIndex:false,$onClose:true,$$onMove:false,width:'100%'},[
['zk.Native','d1dVd',{prolog:'<div class="c-middlebar">\r\n\t\t\t\t<table border="0" width="100%">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td align="left" style="width: 1%">\r\n\t\t\t\t\t\t\t<div class="c-newthread" align="right">'},[]],
['zul.wgt.Button','d1dV5',{sclass:'forumButton',label:'Reply',href:'/forum/login.zul;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE?path=http://www.zkoss.org/forum/listComment/6333-True-readonly-Combobox'},[]],
['zk.Native','d1dVe',{prolog:'</div>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td align="right" style="width: 99%">\r\n\t\t\t\t\t        <div class="c-pages">\r\n\t\t\t\t\t            \r\n\t\t\t\t\t        </div>\r\n\t\t\t\t\t\t</td>\t\t\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t\t</div>'},[]],
['zul.grid.Grid','d1dV6',{id:'commentGrid',$$onRender:true,$onTopPad:false,$$onDataLoading:true,$onDataLoading:true,$$onInnerWidth:false,$$onPageSize:true,$$onScrollPos:false,style:'margin-top: 5px; margin-bottom: 5px;',model:true,_topPad:0,emptyMessage:null,_totalSize:4,_offset:0},[
['zul.grid.Columns','d1dV7',{$$onColSize:false},[
['zul.grid.Column','d1dV8',{$onSort:true,$onGroup:true,width:'140px'},[]],
['zul.grid.Column','d1dV9',{$onSort:true,$onGroup:true},[]]]],
['zul.grid.Rows','d1dVa',{sclass:'comment-rows',_offset:0,visibleItemCount:4},[
['zul.grid.Row','d1dVn',{_loaded:true,_index:0},[
['zul.wnd.Window','d1dVv',{$onClose:true,width:'140px',sclass:'commentAuthorContent',prolog:'\n\n'},[
['zul.box.Box','d1dVw',{prolog:'\n\t'},[
['zul.box.Vlayout','d1dVx',{},[
['zul.box.Hlayout','d1dVy',{},[
['zul.wgt.Toolbarbutton','d1dVz',{id:'authorBtn',$onClick:true,sclass:'author-popup-btn',label:'aros54'},[]]]],
['zul.wgt.Label','d1dV00',{id:'roleDescription',style:'color: #EA4317;'},[]]]],
['zul.wgt.Div','d1dV20',{},[]],
['zul.wgt.Div','d1dV50',{},[
['zul.wgt.Label','d1dV60',{id:'post',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Posts:'},[]],
['zul.wgt.Label','d1dV70',{id:'postValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'9'},[]]]],
['zul.wgt.Div','d1dV80',{},[
['zul.wgt.Label','d1dV90',{id:'joined',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Joined:'},[]],
['zul.wgt.Label','d1dVa0',{id:'joinedValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'Nov 25, 2008'},[]]]],
['zul.wgt.Div','d1dVb0',{},[]],
['zul.wgt.Div','d1dVd0',{},[]]],'vertical']]],
['zul.wnd.Window','d1dVf0',{$onClose:true,sclass:'commentContent',prolog:'\n\t'},[
['zul.wgt.Div','d1dVg0',{id:'mainVbox',width:'100%',prolog:'\n\t\t'},[
['zul.box.Vlayout','d1dVh0',{sclass:'comment-meta',prolog:'\n\t\t\t'},[
['zul.wgt.Label','d1dVi0',{id:'dateCreated',sclass:'comment-date',value:'Nov 27, 2008'},[]],
['zul.wgt.Div','d1dVj0',{sclass:'comment-ctrl'},[]]]],
['zul.wgt.Html','d1dVm0',{id:'body',sclass:'commentBody',prolog:'\n\t\t\t',content:'<p  style="margin:2px 2px;">Hi all.\r<br/>As the javadoc states, the value of a readonly Combobox can be changed by dropping down the list and selecting an item. \r<br/>This behaviour can be very confusing not only because a user can potentially change the value of the readonly fields showing screens with fake data, but also becasue many applications use the same window both to display data (with fields set to readonly) and to modify them.\r<br/>Datebox has a similar behaviour when readonly: you can click on the calendar button and modify the displayed date. The solution in this case is very simple: hide the calendar button when readonly with the method setButtonVisible(false). With Combobox we have one more problem: even if the drop list button is hided, the list drops down by clicking on the field and the user can still select a different item.\r<br/>The solution I found is to disable all the comboitems when the parent combobox is readonly. This can be done either defining a new component or "using" a class inherited from Combobox with some method override. I show here the code of the second solution.\r<br/>\r<br/>This is the java code for the component override:\r<br/>\r<br/>public class Test extends Combobox {\r<br/>\r<br/>    @Override\r<br/>    public void onChildAdded(Component child) {\r<br/>\tsuper.onChildAdded(child);\r<br/>\t\t\r<br/>        // When a Combobox is created the property readonly is evaluated\r<br/>\t// before children are added.\r<br/>\t// So we need to set the initial status of the child (disabled true/false)\r<br/>\t// when each child is added the first time\r<br/>        if (child instanceof Comboitem) {\t\r<br/>        \t((Comboitem)child).setDisabled(isReadonly());\r<br/>        }\r<br/>    }\r<br/>\r<br/>    @Override\r<br/>    public void setReadonly(boolean readonly) {\r<br/>\tsuper.setReadonly(readonly);\r<br/>\t\t\r<br/>        // as the children drop list is shown on clicking on the field area \r<br/>\t// even if the button is not visible, we set the children status\r<br/>        // (disabled if readonly) so that the user can\'t click on them\r<br/>        for (Iterator iterator = getChildren().iterator(); iterator.hasNext();) {\r<br/>\t\tComponent c = (Component) iterator.next();\r<br/>\t\tif (c instanceof Comboitem) {\t\r<br/>\t\t\t((Comboitem)c).setDisabled(isReadonly());\r<br/>\t\t}\r<br/>\t}\r<br/>    }\r<br/>\r<br/>}\r<br/>\r<br/>And a test window:\r<br/>\r<br/>&lt;zk&gt;\r<br/>  &lt;window border="normal" title="Readonly Combobox test" width="320px" height="80px"&gt;\r<br/>&lt;zscript&gt;&lt;![CDATA[\r<br/>\tboolean ro = false;\r<br/>]]&gt;&lt;/zscript&gt;\r<br/>\t&lt;hbox&gt;\r<br/>\t  &lt;label id="label" value="NOT Readonly"/&gt;\r<br/>\t  &lt;combobox id="test" use="com.arcademy.test.Test"&gt;\r<br/>\t\t&lt;comboitem label="Simple and Rich"/&gt;\r<br/>\t\t&lt;comboitem label="Cool!"/&gt;\r<br/>\t\t&lt;comboitem label="Thumbs Up!"/&gt;\r<br/>\t  &lt;/combobox&gt;\r<br/>\t  &lt;button label="Toggle" onClick="toggle();"/&gt;\r<br/>\t&lt;/hbox&gt;\r<br/>&lt;zscript&gt;&lt;![CDATA[\r<br/>\tvoid toggle() {\r<br/>\t\tro=!ro; \r<br/>\t\tlabel.value = ro ? "Readonly" : "NOT Readonly";\r<br/>\t\ttest.setReadonly(ro);\r<br/>\t\ttest.setButtonVisible(!ro);\r<br/>\t}\r<br/>]]&gt;&lt;/zscript&gt;\r<br/>  &lt;/window&gt;\r<br/>&lt;/zk&gt;\r<br/>\r<br/>I hope this can help somebody. Any comment is appreciated.\r<br/>Best regards\r<br/>Adriano</p>'},[]],
['zul.wgt.Separator','d1dVn0',{prolog:'\n\t\t\t',orient:'horizontal'},[]],
['zul.wgt.Div','d1dVo0',{id:'signatureDiv',visible:false,sclass:'news-line',prolog:'\n\t\t\t'},[]],
['zul.wgt.Label','d1dVp0',{id:'signature',visible:false,sclass:'signature',prolog:'\n\t\t\t'},[]]]]]]]],
['zul.grid.Row','d1dVp',{_loaded:true,_index:1},[
['zul.wnd.Window','d1dVq0',{$onClose:true,width:'140px',sclass:'commentAuthorContent',prolog:'\n\n'},[
['zul.box.Box','d1dVr0',{prolog:'\n\t'},[
['zul.box.Vlayout','d1dVs0',{},[
['zul.box.Hlayout','d1dVt0',{},[
['zul.wgt.Toolbarbutton','d1dVu0',{id:'authorBtn',$onClick:true,sclass:'author-popup-btn',label:'robertlee'},[]]]],
['zul.wgt.Label','d1dVw0',{id:'roleDescription',style:'color: #EA4317;'},[]]]],
['zul.wgt.Div','d1dVy0',{},[]],
['zul.wgt.Div','d1dV01',{},[
['zul.wgt.Label','d1dV11',{id:'post',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Posts:'},[]],
['zul.wgt.Label','d1dV21',{id:'postValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'187'},[]]]],
['zul.wgt.Div','d1dV31',{},[
['zul.wgt.Label','d1dV41',{id:'joined',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Joined:'},[]],
['zul.wgt.Label','d1dV51',{id:'joinedValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'Jul 30, 2008'},[]]]],
['zul.wgt.Div','d1dV61',{},[]],
['zul.wgt.Div','d1dV81',{},[]]],'vertical']]],
['zul.wnd.Window','d1dVa1',{$onClose:true,sclass:'commentContent',prolog:'\n\t'},[
['zul.wgt.Div','d1dVb1',{id:'mainVbox',width:'100%',prolog:'\n\t\t'},[
['zul.box.Vlayout','d1dVc1',{sclass:'comment-meta',prolog:'\n\t\t\t'},[
['zul.wgt.Label','d1dVd1',{id:'dateCreated',sclass:'comment-date',value:'Nov 28, 2008'},[]],
['zul.wgt.Div','d1dVe1',{sclass:'comment-ctrl'},[]]]],
['zul.wgt.Html','d1dVh1',{id:'body',sclass:'commentBody',prolog:'\n\t\t\t',content:'<p  style="margin:2px 2px;">Thank you, Adriano!</p>'},[]],
['zul.wgt.Separator','d1dVi1',{prolog:'\n\t\t\t',orient:'horizontal'},[]],
['zul.wgt.Div','d1dVj1',{id:'signatureDiv',visible:false,sclass:'news-line',prolog:'\n\t\t\t'},[]],
['zul.wgt.Label','d1dVk1',{id:'signature',visible:false,sclass:'signature',prolog:'\n\t\t\t'},[]]]]]]]],
['zul.grid.Row','d1dVr',{_loaded:true,_index:2},[
['zul.wnd.Window','d1dVl1',{$onClose:true,width:'140px',sclass:'commentAuthorContent',prolog:'\n\n'},[
['zul.box.Box','d1dVm1',{prolog:'\n\t'},[
['zul.box.Vlayout','d1dVn1',{},[
['zul.box.Hlayout','d1dVo1',{},[
['zul.wgt.Toolbarbutton','d1dVp1',{id:'authorBtn',$onClick:true,sclass:'author-popup-btn',label:'tomyeh'},[]]]],
['zul.wgt.Label','d1dVr1',{id:'roleDescription',style:'color: #EA4317;'},[]]]],
['zul.wgt.Image','d1dVs1',{id:'userImage',style:'max-width:70px; max-height:70px',src:'/forum/mediaService;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE?userId=17&extName=jpeg'},[]],
['zul.wgt.Div','d1dVt1',{},[]],
['zul.wgt.Div','d1dVw1',{},[
['zul.wgt.Label','d1dVx1',{id:'post',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Posts:'},[]],
['zul.wgt.Label','d1dVy1',{id:'postValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'200'},[]]]],
['zul.wgt.Div','d1dVz1',{},[
['zul.wgt.Label','d1dV_2',{id:'joined',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Joined:'},[]],
['zul.wgt.Label','d1dV02',{id:'joinedValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'Jun 07, 2007'},[]]]],
['zul.wgt.Div','d1dV12',{},[]],
['zul.wgt.Div','d1dV32',{},[
['zul.wgt.Toolbarbutton','d1dV42',{id:'myWebsite',tooltiptext:'Personal Website',prolog:'\n\t\t\t',tooltip:'http://blog.zkoss.org',image:'/forum/images/Globe18x18.png;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE',href:'http://blog.zkoss.org',target:'_blank'},[]]]]],'vertical']]],
['zul.wnd.Window','d1dV52',{$onClose:true,sclass:'commentContent',prolog:'\n\t'},[
['zul.wgt.Div','d1dV62',{id:'mainVbox',width:'100%',prolog:'\n\t\t'},[
['zul.box.Vlayout','d1dV72',{sclass:'comment-meta',prolog:'\n\t\t\t'},[
['zul.wgt.Label','d1dV82',{id:'dateCreated',sclass:'comment-date',value:'Dec 04, 2008'},[]],
['zul.wgt.Div','d1dV92',{sclass:'comment-ctrl'},[]]]],
['zul.wgt.Html','d1dVc2',{id:'body',sclass:'commentBody',prolog:'\n\t\t\t',content:'<p  style="margin:2px 2px;">How about posting it <a target="external" href="http://en.wikibooks.org/wiki/ZK/How-Tos">How-tos</a>?</p>'},[]],
['zul.wgt.Separator','d1dVd2',{prolog:'\n\t\t\t',orient:'horizontal'},[]],
['zul.wgt.Div','d1dVe2',{id:'signatureDiv',sclass:'news-line',prolog:'\n\t\t\t'},[]],
['zul.wgt.Label','d1dVf2',{id:'signature',sclass:'signature',prolog:'\n\t\t\t',value:'cleverly simple'},[]]]]]]]],
['zul.grid.Row','d1dVt',{_loaded:true,_index:3},[
['zul.wnd.Window','d1dVg2',{$onClose:true,width:'140px',sclass:'commentAuthorContent',prolog:'\n\n'},[
['zul.box.Box','d1dVh2',{prolog:'\n\t'},[
['zul.box.Vlayout','d1dVi2',{},[
['zul.box.Hlayout','d1dVj2',{},[
['zul.wgt.Toolbarbutton','d1dVk2',{id:'authorBtn',$onClick:true,sclass:'author-popup-btn',label:'Senthilchettyin'},[]]]],
['zul.wgt.Label','d1dVm2',{id:'roleDescription',style:'color: #EA4317;'},[]]]],
['zul.wgt.Image','d1dVn2',{id:'userImage',style:'max-width:70px; max-height:70px',src:'/forum/mediaService;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE?userId=50199&extName=jpeg'},[]],
['zul.wgt.Div','d1dVo2',{},[]],
['zul.wgt.Div','d1dVr2',{},[
['zul.wgt.Label','d1dVs2',{id:'post',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Posts:'},[]],
['zul.wgt.Label','d1dVt2',{id:'postValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'302'},[]]]],
['zul.wgt.Div','d1dVu2',{},[
['zul.wgt.Label','d1dVv2',{id:'joined',sclass:'authorTitle',prolog:'\n\t\t\t',value:'Joined:'},[]],
['zul.wgt.Label','d1dVw2',{id:'joinedValue',sclass:'authorValue',style:'font-size: 10px;',prolog:'\n\t\t\t',value:'Jan 07, 2012'},[]]]],
['zul.wgt.Div','d1dVx2',{},[]],
['zul.wgt.Div','d1dVz2',{},[
['zul.wgt.Toolbarbutton','d1dV_3',{id:'myWebsite',tooltiptext:'Personal Website',prolog:'\n\t\t\t',tooltip:'http://emrpms.blogspot.in/',image:'/forum/images/Globe18x18.png;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE',href:'http://emrpms.blogspot.in/',target:'_blank'},[]]]]],'vertical']]],
['zul.wnd.Window','d1dV03',{$onClose:true,sclass:'commentContent',prolog:'\n\t'},[
['zul.wgt.Div','d1dV13',{id:'mainVbox',width:'100%',prolog:'\n\t\t'},[
['zul.box.Vlayout','d1dV23',{sclass:'comment-meta',prolog:'\n\t\t\t'},[
['zul.wgt.Label','d1dV33',{id:'dateCreated',sclass:'comment-date',value:'5 days ago'},[]],
['zul.wgt.Div','d1dV43',{sclass:'comment-ctrl'},[]]]],
['zul.wgt.Html','d1dV73',{id:'body',sclass:'commentBody',prolog:'\n\t\t\t',content:'<p  style="margin:2px 2px;">Great. It helps me too</p>'},[]],
['zul.wgt.Separator','d1dV83',{prolog:'\n\t\t\t',orient:'horizontal'},[]],
['zul.wgt.Div','d1dV93',{id:'signatureDiv',sclass:'news-line',prolog:'\n\t\t\t'},[]],
['zul.wgt.Label','d1dVa3',{id:'signature',sclass:'signature',prolog:'\n\t\t\t',value:'Look for simple examples on zk in  http://emrpms.blogspot.in/'},[]]]]]]]]]]]],
['zul.wgt.Popup','d1dVb',{id:'authorPopup',visible:false,$$onOpen:false,sclass:'user-popup'},[]],
['zul.wgt.Label','d1dVc',{id:'anchor',visible:false},[]]]]);
</script>
<div id="d1dVf" class="z-temp"></div><script type="text/javascript">zkx(
['zul.wgt.Label','d1dVf',{},[]]);
</script>
<div class="c-middlebar">
				<table border="0" width="100%">
					<tr>
						<td align="left" style="width: 1%">
							<div class="c-newthread" align="right"><div id="d1dVg" class="z-temp"></div><script type="text/javascript">zkx(
['zul.wgt.Button','d1dVg',{sclass:'forumButton',label:'Reply',href:'/forum/login.zul;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE?path=http://www.zkoss.org/forum/listComment/6333-True-readonly-Combobox'},[]]);
</script>
</div>
						</td>
						<td align="right" style="width: 99%">
					        <div class="c-pages">
					            
					        </div>
						</td>		
					</tr>
				</table>
			</div>
			
			<br /><div id="d1dVh" class="z-temp"></div><script type="text/javascript">zkx(
['zul.wgt.Div','d1dVh',{id:'comment-reply'},[
['zk.Native','d1dVk',{prolog:'<a name="reply"></a>'},[]],
['zk.Macro','d1dVi',{},[]],
['zul.wgt.Label','d1dVj',{},[]]]]);
</script>

		<div id="content-bottom"></div>
	</div>	
	</div>
</div>
	
<script type="text/javascript" 	src="/forum/js/commentCodeHandle.js;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE" ></script>



</div> </div>
<!-- Google  -->
<script type="text/javascript">
 var z_n = "null",
	z_i = "220.135.202.140" ;
 var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
 document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://www.zkoss.org/resource/js/page/gaz.js"></script>
<script type="text/javascript" src="/forum/js/template.js;jsessionid=464A912B6CDFBE698E6B4DD12B18CAAE"></script>
<!-- Google  -->
<div id="footer-2">
	<div id="footer-2-inner">
		<img src="http://sourceforge.net/sflogo.php?group_id=152762&amp;type=1" width="0" height="0" alt="SourceForge" style="float:right;">
		
		<div id="footer-txt">
		<div class="contacts"><a href="http://www.zkoss.org/support/about/contact" title="Contact Us">Contact Us</a></div>
		&#169; 2012 Potix Corporation. All rights reserved.<br />
		ZK is a trademark of Potix Corporation.</div>
		<div id="partners">
			<div class="txt">Partners :</div>
			<div class="allpartners"><a href="/partner/" title="ZK Partners">Partners</a></div>
		</div>
	</div>
</div>
</div>
</body>
</html>
</body>
</html>
